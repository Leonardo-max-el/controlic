{% extends "base.html" %}


{% block content %}

<main class="container" style="width: 700px;">
    <div class="row">
        <div class="col-md-8 offset-md- mt-5" >
                <form  id="inspeccionForm" method="POST" action="/registrar_inspeccion/" class="card card-body">
                {% if user.is_authenticated %}
                <h4 class="text-center">Hola, {{ user.username }}. ¿Qué ambiente deseas registrar hoy?</h4>
                {% endif %}
                {% csrf_token %}
                <label for="ambiente" style="text-align: center; font-size: 40px"><strong>Ambientes</strong></label>
                        <select class="list-group" name="ambientes" id="">
                        <option value="Laboratorio A">Laboratorio A</option>
                        <option value="Laboratorio B">Laboratorio B</option>
                        <option value="Laboratorio C">Laboratorio C</option>
                        <option value="Laboratorio D">Laboratorio D</option>
                        <option value="Laboratorio E">Laboratorio E</option>
                        <option value="Laboratorio F">Laboratorio F</option>
                        <option value="Laboratorio G">Laboratorio G</option>
                        <option value="Laboratorio H">Laboratorio H</option>
                        <option value="Aula 101">Aula 101</option>
                        <option value="Aula 102">Aula 102</option>

                        </select>
                        
                    <br>
                    <table class="table table-striped table-hover" >
                        <tr style="text-align: center;">
                            <th>Elemento</th>
                            <th >Correcto</th>
                            <th>Observado</th>
                        </tr>
                        <tr>
                            <td>Equipo de Cómputo</td>
                            <td style="text-align: center;"><input type="radio" name="equipo_computo" value="C" checked></td>
                            <td style="text-align: center;"><input type="radio" name="equipo_computo" value="O" style="accent-color: red;"></td>
                        </tr>
                        <tr>
                            <td>Proyector Multimedia</td>
                            <td style="text-align: center;"><input type="radio" name="proyector_multimedia" value="C" checked></td>
                            <td style="text-align: center;"><input type="radio" name="proyector_multimedia" value="O" style="accent-color: red;"></td>
                        </tr>
                        <tr>
                            <td>Red</td>
                            <td style="text-align: center;"><input type="radio" name="red" value="C" checked></td>
                            <td style="text-align: center;"><input type="radio" name="red" value="O" style="accent-color: red;"></td>
                        </tr>
                        <tr>
                            <td>Fluido Eléctrico</td>
                            <td style="text-align: center;"><input type="radio" name="fluido_electrico" value="C" checked></td>
                            <td style="text-align: center;"><input type="radio" name="fluido_electrico" value="O" style="accent-color: red;"></td>
                        </tr>
                        
                        <tr>
                            <td>Orden y Limpieza</td>
                            <td style="text-align: center;"><input type="radio" name="orden_limpieza" value="C" checked></td>
                            <td style="text-align: center;"><input type="radio" name="orden_limpieza" value="O" style="accent-color: red;"></td>
                        </tr>

                        <tr>
                            <td>Módulos</td>
                            <td style="text-align: center;"><input type="radio" name="modulos" value="C" checked></td>
                            <td style="text-align: center;"><input type="radio" name="modulos" value="O" style="accent-color: red;"></td>
                        </tr>

                    </table>            
                <button class="btn btn-primary" type="submit">Guardar</button>
            </form>


        </div>
        <script>
        document.getElementById("inspeccionForm").addEventListener("submit", function(event) {
            event.preventDefault();

            let formData = new FormData(this);

            fetch("/registrar_inspeccion/", {
                method: "POST",
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                alert(data.mensaje);
                location.reload();
            })
            .catch(error => console.error("Error:", error));
        });
        </script>

        </div>
    </div>
</main>


{% endblock %}